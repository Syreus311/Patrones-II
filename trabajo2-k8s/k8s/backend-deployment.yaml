containers:
  - name: backend
    image: backend-image
    imagePullPolicy: Never
    ports:
      - containerPort: 3000
    envFrom:
      - configMapRef:
          name: backend-config
      - secretRef:
          name: backend-secret

    resources:
      requests:
        cpu: "200m"
        memory: "256Mi"
      limits:
        memory: "768Mi"

    readinessProbe:
      httpGet:
        path: /health
        port: 3000
      initialDelaySeconds: 10
      periodSeconds: 5
      timeoutSeconds: 2
      successThreshold: 1
      failureThreshold: 3

    livenessProbe:
      httpGet:
        path: /health
        port: 3000
      initialDelaySeconds: 20
      periodSeconds: 10
      timeoutSeconds: 2
      failureThreshold: 3

    startupProbe:
      httpGet:
        path: /health
        port: 3000
      initialDelaySeconds: 5
      periodSeconds: 5
      timeoutSeconds: 2
      failureThreshold: 30

terminationGracePeriodSeconds: 30